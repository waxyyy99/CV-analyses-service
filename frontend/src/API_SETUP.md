# Инструкция по настройке API для сайта оценки резюме

## Описание

Этот сайт интегрирован с вашим backend API для оценки резюме. Приложение поддерживает:

- ✅ Регистрацию и авторизацию пользователей
- ✅ Загрузку файлов резюме (PDF, TXT)
- ✅ Автоматический анализ резюме через API
- ✅ Просмотр истории анализов
- ✅ Детальную обратную связь по категориям

## Настройка Backend

### 1. Установите зависимости вашего API

```bash
cd your-api-directory
npm install
```

### 2. Создайте файл .env

```env
PORT=3000
DB_USER=postgres
DB_HOST=localhost
DB_NAME=cv_analysis
DB_PASSWORD=password
DB_PORT=5432
JWT_SECRET=your_secret_key_change_in_production
```

### 3. Запустите API сервер

```bash
node server.js
```

API будет доступен по адресу: `http://localhost:3000`

## Настройка Frontend

Frontend уже настроен для работы с вашим API на `http://localhost:3000`.

Если ваш API работает на другом адресе, измените URL в следующих файлах:

- `/contexts/AuthContext.tsx` (endpoints: `/auth/login`, `/auth/register`)
- `/components/FileUpload.tsx` (endpoint: `/resume/upload`)
- `/components/AnalysisHistory.tsx` (endpoint: `/analyses`)
- `/App.tsx` (endpoints: `/analyze`, `/analyses/:id`)

## Использование

### 1. Регистрация

- Откройте приложение
- Перейдите на вкладку "Регистрация"
- Заполните форму:
  - Имя
  - Email
  - Телефон
  - Пароль
- Нажмите "Зарегистрироваться"

### 2. Загрузка резюме

- После входа вы окажетесь на главной странице
- Выберите файл резюме (PDF или TXT, максимум 5 МБ)
- Нажмите "Загрузить и анализировать"
- Дождитесь завершения анализа

### 3. Просмотр результатов

Результаты анализа включают:

- **Общую оценку** (0-10 баллов)
- **Оценки по категориям**:
  - Структура
  - Содержание
  - Ключевые слова
  - Форматирование
  - Опыт работы
- **Сильные стороны** резюме
- **Рекомендации** по улучшению
- **Детальную обратную связь** по каждой категории

### 4. История анализов

- Перейдите на вкладку "История"
- Просмотрите все предыдущие анализы
- Нажмите на любой анализ для просмотра подробностей

## API Endpoints

Приложение использует следующие эндпоинты вашего API:

### Аутентификация

- `POST /auth/register` - регистрация нового пользователя
- `POST /auth/login` - вход в систему

### Работа с резюме

- `POST /resume/upload` - загрузка файла резюме
- `POST /analyze` - анализ резюме
- `GET /analyses` - получение истории анализов
- `GET /analyses/:id` - получение конкретного анализа

## Формат данных

### Ответ API для анализа

```json
{
  "overall": 7.5,
  "categories": {
    "structure": 8.0,
    "content": 7.5,
    "keywords": 7.0,
    "formatting": 8.5,
    "experience": 6.5
  },
  "strengths": [
    "Contact information present",
    "Education section found"
  ],
  "improvements": [
    "Add technical skills",
    "Expand resume content"
  ],
  "detailedFeedback": [
    {
      "category": "Structure",
      "score": 8.0,
      "feedback": "Resume structure is good"
    }
  ]
}
```

## Решение проблем

### CORS ошибки

Если вы видите CORS ошибки в консоли, убедитесь что в вашем API файле есть:

```javascript
app.use(cors());
```

### Ошибки авторизации

- Убедитесь что токен сохраняется в localStorage
- Проверьте что токен отправляется в заголовке `Authorization: Bearer <token>`

### Файл не загружается

- Проверьте формат файла (только PDF и TXT)
- Убедитесь что размер файла не превышает 5 МБ
- Проверьте настройки multer в вашем API

## Безопасность

⚠️ **Важно**: 

- Измените `JWT_SECRET` на безопасное значение в production
- Используйте HTTPS для production окружения
- Не храните чувствительные данные в localStorage
- API предназначен только для демонстрации

## Поддержка

Если возникли проблемы:

1. Проверьте что API запущен на `http://localhost:3000`
2. Откройте консоль браузера для просмотра ошибок
3. Проверьте логи API сервера
